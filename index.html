<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="require.js"></script>
    <script>
      function send() {

        
        if (!!window.webkit && !!window.webkit.messageHandlers && !!window.webkit.messageHandlers.Ti) {
          window.webkit.messageHandlers.Ti.postMessage({ message: 'Titanium rocks!' },'*');
        } else {
          document.body.append(' window.webkit is undefined ');

          var WK = require(['ti.wkwebview']);      
          if (!WK.fireEvent) {
            document.body.append(' WK is undefined ');
          }    
          // Fire event
          WK.fireEvent('myEvent', { message: 'Titanium rocks!' });
          // Listen to events
          // WK.addEventListener('myEvent', function(e) { console.log('web app received message', e) });
        }


      }
    </script>
    <link rel="stylesheet" href="./public/styles.css"/>
  </head>
  <body>
    <div class="container">
      <button class="apple-pay-button"></button>
      <button style="width: 200px; height: 50px; background-color:red; color:white"
      onclick="send()">Test message</button>
    </div>
  </body>
</html>
